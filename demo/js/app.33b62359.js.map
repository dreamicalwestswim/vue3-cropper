{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue","webpack:///./src/App.vue?dfb6","webpack:///./src/components/Cropper.vue","webpack:///./src/components/Cropper.vue?21ca","webpack:///./src/components/index.js","webpack:///./src/main.js","webpack:///./src/components/Cropper.vue?3367"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","type","accept","onChange","previewImage","src","alt","style","cropperVisible","imagePath","fileType","onSave","onCancel","setup","state","e","file","target","files","reader","FileReader","onload","readAsDataURL","res","URL","createObjectURL","render","to","$attrs","ref","onTouchStart","onTouchMove","onTouchEnd","loadComplete","onLoadComplete","showOutputSize","outputSizeInfo","width","height","fixedBox","onRotate","onReset","onCrop","canvas","inheritAttrs","props","cropSize","Number","default","String","imageType","quality","Boolean","emits","emit","originalImage","left","top","rotate","scale","cropBox","outputSize","stage","canvasRef","ctx","imageRef","dragTarget","touchZoom","touchStartInfo","originalImageLeft","originalImageTop","cropLeft","cropTop","cropWidth","cropHeight","touches","Math","floor","getContext","naturalWidth","naturalHeight","initialState","clientWidth","clientHeight","widthScale","heightScale","min","setCanvasSize","setOutputSize","cropBoxOriginalInfo","outsideAnchorX","outsideAnchorY","x","ceil","y","w","h","imgW","imgH","outWidth","outHeight","dataset","touchScale","oldTouch1","clientX","clientY","newTouch1","oldTouch2","newTouch2","oldL","sqrt","pow","newL","cha","coe","num","abs","preventDefault","disX","disY","save","clearRect","drawImage","translate","PI","toTempFilePath","dataURLToBlob","dataURL","arr","split","format","match","atob","u8arr","Uint8Array","charCodeAt","Blob","canvasToDataURL","imageData","document","createElement","putImageData","zoomCanvas","zoomCtx","toDataURL","restore","getImageData","__scopeId","Cropper","install","app","component","createApp","App","use","mount"],"mappings":"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","file":"js/app.33b62359.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\n  <div class=\"home\">\n    <input type=\"file\" accept=\"image/*\" @change=\"onChange\"/>\n    <img v-if=\"previewImage\" :src=\"previewImage\" alt=\"预览图\" style=\"max-width: 100%; max-height: 100%;\">\n    <Cropper v-if=\"cropperVisible\"\n             :imagePath=\"imagePath\"\n             fileType=\"blob\"\n             mode=\"scale\"\n             @save=\"onSave\"\n             @cancel=\"onCancel\"\n    />\n  </div>\n</template>\n\n<script>\n\n\nimport {reactive, toRefs} from 'vue'\n\nexport default {\n  name: 'App',\n  setup() {\n    const state = reactive({\n      cropperVisible: false,\n      imagePath: '',\n      previewImage: null\n    })\n\n    const onChange = (e) => {\n      const file = e.target.files[0]\n      const reader = new FileReader();\n      reader.onload = () => {\n        state.imagePath = reader.result;\n        state.cropperVisible = true\n      };\n      reader.readAsDataURL(file);\n    };\n\n    const onSave = (res) => {\n      if(typeof res === 'string')\n      {\n        state.previewImage = res\n      } else {\n        state.previewImage = window.URL.createObjectURL(res)\n      }\n      state.cropperVisible = false\n    };\n\n    const onCancel = () => {\n      state.cropperVisible = false\n    };\n\n    return {\n      ...toRefs(state),\n      onChange,\n      onSave,\n      onCancel\n    };\n  }\n}\n</script>\n\n<style lang=\"scss\">\n\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=66e2578e\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n    <teleport to=\"body\">\r\n        <div class=\"cropper\" v-bind=\"$attrs\">\r\n            <div ref=\"stage\"\r\n                 class=\"cropper__stage\"\r\n                 @touchstart=\"onTouchStart\"\r\n                 @touchmove=\"onTouchMove\"\r\n                 @touchend=\"onTouchEnd\"\r\n                 :style=\"{visibility:loadComplete?'visible':'hidden'}\"\r\n            >\r\n\r\n                <img class=\"cropper__img\"\r\n                     ref=\"imageRef\"\r\n                     :src=\"imagePath\"\r\n                     alt=\"\"\r\n                     :style=\"{\r\n                     transform: `translate3d(${originalImage.left}px,${originalImage.top}px,0) rotateZ(${originalImage.rotate}deg) scale(${originalImage.scale})`\r\n                 }\"\r\n                     @load=\"onLoadComplete\"\r\n                >\r\n\r\n                <div class=\"cropper__box\"\r\n                     :style=\"{\r\n                     width: `${cropBox.width}px`,\r\n                     height: `${cropBox.height}px`,\r\n                     transform: `translate3d(${cropBox.left}px,${cropBox.top}px,0)`\r\n                 }\"\r\n                >\r\n                    <div class=\"face\">\r\n                        <img :src=\"imagePath\"\r\n                             alt=\"\"\r\n                             :style=\"{\r\n                             transform: `translate3d(${originalImage.left - cropBox.left}px,${originalImage.top - cropBox.top}px,0) rotateZ(${originalImage.rotate}deg) scale(${originalImage.scale})`\r\n                         }\"\r\n                        >\r\n                    </div>\r\n                    <div v-if=\"showOutputSize\" class=\"size-num\">\r\n                        {{`${outputSizeInfo.width} x ${outputSizeInfo.height}`}}\r\n                    </div>\r\n                    <div class=\"mask\" data-name=\"mask\"></div>\r\n                    <div class=\"line-top\"></div>\r\n                    <div class=\"line-right\"></div>\r\n                    <div class=\"line-bottom\"></div>\r\n                    <div class=\"line-left\"></div>\r\n                    <template v-if=\"!fixedBox\">\r\n                        <div class=\"dot-tl\" data-name=\"dot-tl\"></div>\r\n                        <div class=\"dot-tc\" data-name=\"dot-tc\"></div>\r\n                        <div class=\"dot-tr\" data-name=\"dot-tr\"></div>\r\n                        <div class=\"dot-rc\" data-name=\"dot-rc\"></div>\r\n                        <div class=\"dot-rb\" data-name=\"dot-rb\"></div>\r\n                        <div class=\"dot-bc\" data-name=\"dot-bc\"></div>\r\n                        <div class=\"dot-bl\" data-name=\"dot-bl\"></div>\r\n                        <div class=\"dot-lc\" data-name=\"dot-lc\"></div>\r\n                    </template>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div class=\"cropper__control\">\r\n                <div class=\"cropper__icon-rotate\" @click=\"onRotate\" />\r\n            </div>\r\n            <div class=\"cropper__line\"></div>\r\n            <div class=\"cropper__control\">\r\n                <span @click=\"onCancel\">取消</span>\r\n                <span @click=\"onReset\">还原</span>\r\n                <span @click=\"onCrop\">选取</span>\r\n            </div>\r\n\r\n            <view style=\"height:0;overflow: hidden; position: absolute;left:9999px\">\r\n                <canvas ref=\"canvasRef\" :width=\"canvas.width\" :height=\"canvas.height\"/>\r\n            </view>\r\n        </div>\r\n    </teleport>\r\n\r\n</template>\r\n\r\n<script>\r\nimport {reactive, ref, toRefs, onMounted, computed} from 'vue'\r\nexport default {\r\n    name: 'Cropper',\r\n    inheritAttrs: false,\r\n    props: {\r\n        // 裁剪框大小\r\n        cropSize: {\r\n            type: Number,\r\n            default: 150\r\n        },\r\n        // 裁剪图路径(本地图片的路径或者图片的数据源base64|blob|file)\r\n        imagePath: String,\r\n        // 输出文件的类型(base64|blob)\r\n        fileType: String,\r\n        // 输出图片的格式(image/jpeg|image/png|image/webp) 其中 image/webp 只有 chrome 才支持\r\n        imageType: {\r\n            type: String,\r\n            default: 'image/jpeg'\r\n        },\r\n        // 输出图片的质量(0-1)并且只在格式为 image/jpeg 或 image/webp 时才有效，如果参数值格式不合法，将会被忽略并使用默认值。\r\n        quality: {\r\n            type: Number,\r\n            default: .9\r\n        },\r\n        // 固定裁剪框(不允许修改裁剪框尺寸)\r\n        fixedBox: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        // 展示输出图片的尺寸(可关闭)\r\n        showOutputSize: {\r\n            type: Boolean,\r\n            default: true\r\n        },\r\n        // 裁剪模式(原图模式|缩放模式)\r\n        mode: String\r\n    },\r\n    emits: ['save', 'cancel'],\r\n    setup(props, { emit }) {\r\n        const state = reactive({\r\n            // 原图属性\r\n            originalImage: {\r\n                width: 0,\r\n                height: 0,\r\n                left: 0,\r\n                top: 0,\r\n                rotate: 0,\r\n                scale: 0\r\n            },\r\n            // 裁剪框\r\n            cropBox: {\r\n                width: 0,\r\n                height: 0,\r\n                left: 0,\r\n                top: 0\r\n            },\r\n            // canvas大小\r\n            canvas: {\r\n                width: 0,\r\n                height: 0,\r\n            },\r\n            // 输出尺寸(根据图片比例裁剪框尺寸及裁剪的位置算出的实际尺寸)\r\n            outputSize: {\r\n                width: 0,\r\n                height: 0,\r\n            },\r\n            // 图片加载完成标记(图片加载完成才展示出stage，保证样式正确)\r\n            loadComplete: false,\r\n        })\r\n\r\n        // 舞台(就是裁剪可操作的区域)\r\n        let stage = ref()\r\n        // canvas 2d绘图\r\n        let canvasRef = ref()\r\n        let ctx = null\r\n        // 要绘制的图片\r\n        let imageRef = ref()\r\n        // 拖拽的目标\r\n        let dragTarget = null\r\n        // 手势缩放开关\r\n        let touchZoom = false\r\n        // 记录触摸开始的一些数据\r\n        let touchStartInfo = {\r\n            originalImageLeft: 0,\r\n            originalImageTop: 0,\r\n            cropLeft: 0,\r\n            cropTop: 0,\r\n            cropWidth: 0,\r\n            cropHeight: 0,\r\n            touches: []\r\n        }\r\n\r\n        // 输出尺寸信息\r\n        const outputSizeInfo = computed(()=>{\r\n            return props.mode === 'scale' ? {\r\n                width: Math.floor(state.outputSize.width * state.originalImage.scale),\r\n                height: Math.floor(state.outputSize.height * state.originalImage.scale)\r\n            } : {\r\n                width: state.outputSize.width,\r\n                height: state.outputSize.height\r\n            }\r\n        });\r\n\r\n        /**\r\n         * 获取canvas绘图能力\r\n         */\r\n        onMounted(() => {\r\n            ctx = canvasRef.value.getContext(\"2d\");\r\n        });\r\n\r\n        /**\r\n         * 图片载入完成\r\n         */\r\n        const onLoadComplete = (e) => {\r\n            state.originalImage.width = e.target.naturalWidth\r\n            state.originalImage.height = e.target.naturalHeight\r\n            state.loadComplete = true\r\n            initialState()\r\n        };\r\n\r\n        /**\r\n         * 设置初始状态\r\n         */\r\n        const initialState = () => {\r\n            const { width, height } = state.originalImage\r\n            let scale = 1\r\n            //图片尺寸超过舞台尺寸\r\n            if (width > stage.value.clientWidth || height > stage.value.clientHeight) {\r\n                //计算舞台区域占据图片的宽高比例\r\n                let widthScale = stage.value.clientWidth / width\r\n                let heightScale = stage.value.clientHeight / height\r\n                //取最小比例保证最长边能够显示出来\r\n                scale = Math.min(widthScale, heightScale);\r\n            }\r\n\r\n            state.originalImage.left = (stage.value.clientWidth - width) / 2\r\n            state.originalImage.top = (stage.value.clientHeight - height) / 2\r\n            state.originalImage.rotate = 0\r\n            state.originalImage.scale = scale\r\n            state.cropBox.width = props.cropSize\r\n            state.cropBox.height = props.cropSize\r\n            state.cropBox.left = (stage.value.clientWidth - props.cropSize) / 2\r\n            state.cropBox.top = (stage.value.clientHeight - props.cropSize) / 2\r\n            setCanvasSize(width, height)\r\n            setOutputSize()\r\n        };\r\n\r\n        /**\r\n         * 裁剪框原坐标尺寸信息(就是相对原始图片的信息)\r\n         */\r\n        const cropBoxOriginalInfo = () => {\r\n            // 因为图片缩放是用比例来完成的，所以left、top、width、height并不会发生变化,需要拿这些原始信息进行换算，得到裁剪框与当前缩放过的图片一致的坐标和尺寸信息。\r\n            let { scale, rotate, width, height, left, top } = state.originalImage\r\n            // 因为图片是居中在舞台中间的，所以上右下左都可能会超过舞台，需要取超过的一半值加上自身x、y得到肉眼看到的坐标值\r\n            // 原图宽超出显示区域以外的中心点(需要这个值换算成真实的起始x)\r\n            let outsideAnchorX = (width * (1 - scale)) / 2\r\n            // 原图高超出显示区域以外的中心点(需要这个值换算成真实的起始y)\r\n            let outsideAnchorY = (height * (1 - scale)) / 2\r\n            // 截图的起始x(相对图片的x)\r\n            let x = Math.ceil((state.cropBox.left - (left + outsideAnchorX)) / scale)\r\n            // 截图的起始y(相对图片的y)\r\n            let y = Math.ceil((state.cropBox.top - (top + outsideAnchorY)) / scale)\r\n            // 截取的宽度(裁剪框/图片比例，让裁剪框和图片相同的比例下进行操作)\r\n            let w = Math.ceil(state.cropBox.width / scale)\r\n            // 截取的高度(原理同上)\r\n            let h = Math.ceil(state.cropBox.height / scale)\r\n\r\n            // 图片旋转90和270度的时候需要把图片宽转高，高转宽\r\n            // xy相对转换后的值\r\n            if (rotate === 90 || rotate === 270) {\r\n                x = x - (width - height) / 2\r\n                y = y - (height - width) / 2\r\n            }\r\n            return { x, y, w, h }\r\n        };\r\n\r\n        /**\r\n         * 计算输出尺寸(按照图片的比例选取的位置)\r\n         */\r\n        const setOutputSize = () => {\r\n            // 获取裁剪框的原信息(就是未被缩放,相对图片的xy坐标，和裁剪大小的信息)\r\n            let { x, y, w, h } = cropBoxOriginalInfo()\r\n            //把canvas尺寸当成图片尺寸，因为canvas会根据图片旋转同步成原图的宽高(取canvas宽高会比较方便)\r\n            const { width: imgW, height: imgH } = state.canvas\r\n            // 输出尺寸默认等于裁剪框尺寸\r\n            let outWidth = w\r\n            let outHeight = h\r\n\r\n            // 裁剪框左边小于图片左边\r\n            if (x < 0) {\r\n                // 小于图片左边的x值是负数\r\n                // x + w 得到的是从图片的x开始计算到裁剪框宽度的位置，如果这个值大于图片宽，输出宽就等于图片宽\r\n                if (x + w > imgW) {\r\n                    outWidth = imgW\r\n                } else {\r\n                    // 如果x+w没有超过图片宽度直接取x+w得到裁剪框在图片里面的尺寸\r\n                    outWidth = x + w\r\n                }\r\n            } else {\r\n                // 裁剪框左边等于或者大于图片左边\r\n                // x + w 超过图片的宽度\r\n                if (x + w > imgW) {\r\n                    // 图片宽度减裁剪框的x，得到裁剪框在图片里面的尺寸\r\n                    outWidth = imgW - x\r\n                }\r\n            }\r\n\r\n            // y原理同上x一样\r\n            if (y < 0) {\r\n                if (y + h > imgH) {\r\n                    outHeight = imgH\r\n                } else {\r\n                    outHeight = y + h\r\n                }\r\n            } else {\r\n                if (y + h > imgH) {\r\n                    outHeight = imgH - y\r\n                }\r\n            }\r\n\r\n            // 裁剪框完全在图片的外面会出现负数，直接把输出尺寸设置成0\r\n            if (outWidth < 0 || outHeight < 0) {\r\n                outWidth = outHeight = 0\r\n            }\r\n\r\n            state.outputSize.width = outWidth\r\n            state.outputSize.height = outHeight\r\n        };\r\n\r\n\r\n        /**\r\n         * 设置canvas尺寸(与原图片尺寸保持同步才能保证截图正确)\r\n         */\r\n        const setCanvasSize = (width, height) => {\r\n            state.canvas.width = width\r\n            state.canvas.height = height\r\n        };\r\n\r\n        /**\r\n         * 旋转图片\r\n         */\r\n        const onRotate = () => {\r\n            // 顺时针每一轮加90度\r\n            let rotate = state.originalImage.rotate + 90\r\n            if (rotate >= 360) rotate = 0\r\n\r\n            // 修改角度的时候就设置好canvas的尺寸，保证截图的时候图形不会出现变形\r\n            if (rotate === 0 || rotate === 180) {\r\n                setCanvasSize(state.originalImage.width, state.originalImage.height)\r\n            } else if (rotate === 90 || rotate === 270) {\r\n                setCanvasSize(state.originalImage.height, state.originalImage.width)\r\n            }\r\n            state.originalImage.rotate = rotate\r\n            setOutputSize()\r\n        };\r\n\r\n        /**\r\n         * 还原\r\n         */\r\n        const onReset = () => {\r\n            initialState()\r\n        };\r\n\r\n        /**\r\n         * 触摸开始\r\n         */\r\n        const onTouchStart = (res) => {\r\n            // 获取到触摸的目标名\r\n            dragTarget = res.target.dataset.name\r\n            // 记录开始触摸的原图位置\r\n            touchStartInfo.originalImageLeft = state.originalImage.left\r\n            touchStartInfo.originalImageTop = state.originalImage.top\r\n            // 记录开始触摸的裁剪框信息\r\n            touchStartInfo.cropLeft = state.cropBox.left\r\n            touchStartInfo.cropTop = state.cropBox.top\r\n            touchStartInfo.cropWidth = state.cropBox.width\r\n            touchStartInfo.cropHeight = state.cropBox.height\r\n            // 记录开始的触摸手势信息\r\n            touchStartInfo.touches = res.touches\r\n            // 多指触碰屏幕开启手势缩放\r\n            if (touchStartInfo.touches.length > 1) {\r\n                touchZoom = true\r\n            }\r\n        };\r\n\r\n        /**\r\n         * 手势改变图片比例\r\n         */\r\n        const touchScale = (res) => {\r\n            let scale = state.originalImage.scale\r\n            // 记录变化量\r\n            // 第一根手指\r\n            let oldTouch1 = {\r\n                x: touchStartInfo.touches[0].clientX,\r\n                y: touchStartInfo.touches[0].clientY\r\n            };\r\n            let newTouch1 = {\r\n                x: res.touches[0].clientX,\r\n                y: res.touches[0].clientY\r\n            };\r\n            // 第二根手指\r\n            let oldTouch2 = {\r\n                x: touchStartInfo.touches[1].clientX,\r\n                y: touchStartInfo.touches[1].clientY\r\n            };\r\n            let newTouch2 = {\r\n                x: res.touches[1].clientX,\r\n                y: res.touches[1].clientY\r\n            };\r\n            let oldL = Math.sqrt(\r\n                Math.pow(oldTouch1.x - oldTouch2.x, 2) +\r\n                Math.pow(oldTouch1.y - oldTouch2.y, 2)\r\n            );\r\n            let newL = Math.sqrt(\r\n                Math.pow(newTouch1.x - newTouch2.x, 2) +\r\n                Math.pow(newTouch1.y - newTouch2.y, 2)\r\n            );\r\n            // 手势的差值\r\n            let cha = newL - oldL;\r\n            // 根据图片本身大小 决定每次改变大小的系数, 图片越大系数越小\r\n            // 1px - 0.2\r\n            let coe = 1;\r\n            coe =\r\n                coe / state.originalImage.width > coe / state.originalImage.height\r\n                    ? coe / state.originalImage.height\r\n                    : coe / state.originalImage.width;\r\n            coe = coe > 0.1 ? 0.1 : coe;\r\n            //系数乘以差值\r\n            let num = coe * cha;\r\n            if (cha > 0) {\r\n                scale += Math.abs(num);\r\n            } else if (cha < 0) {\r\n                scale > Math.abs(num) ? (scale -= Math.abs(num)) : scale;\r\n            }\r\n\r\n            if (scale > 1) scale = 1\r\n            else if (scale < 0.001) scale = 0\r\n\r\n            state.originalImage.scale = scale\r\n            // 缩放以后更新上一次的手势信息\r\n            touchStartInfo.touches = res.touches\r\n            setOutputSize()\r\n        };\r\n\r\n        /**\r\n         * 触摸移动\r\n         */\r\n        const onTouchMove = (res) => {\r\n            // 缩放图片防止浏览器放大缩小\r\n            res.preventDefault()\r\n            // 双指操作改变图片比例\r\n            if (res.touches.length === 2) {\r\n                touchScale(res)\r\n                return\r\n            }\r\n            // 正在缩放的情况下不触发单指操作\r\n            if (touchZoom) return\r\n            let { touches, originalImageLeft, originalImageTop, cropLeft, cropTop, cropWidth, cropHeight } = touchStartInfo\r\n            // 移动和触摸开始的xy距离\r\n            let disX = res.touches[0].clientX - touches[0].clientX\r\n            let disY = res.touches[0].clientY - touches[0].clientY\r\n            if (!dragTarget) {\r\n                // 没有拖拽目标名，就拖拽图片\r\n                state.originalImage.left = originalImageLeft + disX\r\n                state.originalImage.top = originalImageTop + disY\r\n            }\r\n            else {\r\n                // 改变裁剪框\r\n                let left = cropLeft, top = cropTop, width = cropWidth, height = cropHeight\r\n                switch (dragTarget) {\r\n                    case \"dot-tl\":\r\n                        width = cropWidth - disX\r\n                        height = cropHeight - disY\r\n                        left = cropLeft + disX\r\n                        top = cropTop + disY\r\n                        break;\r\n                    case \"dot-tc\":\r\n                        height = cropHeight - disY\r\n                        top = cropTop + disY\r\n                        break;\r\n                    case \"dot-tr\":\r\n                        width = cropWidth + disX\r\n                        height = cropHeight - disY\r\n                        top = cropTop + disY\r\n                        break;\r\n                    case \"dot-rc\":\r\n                        width = cropWidth + disX\r\n                        break;\r\n                    case \"dot-rb\":\r\n                        width = cropWidth + disX\r\n                        height = cropHeight + disY\r\n                        break;\r\n                    case \"dot-bc\":\r\n                        height = cropHeight + disY\r\n                        break;\r\n                    case \"dot-bl\":\r\n                        width = cropWidth - disX\r\n                        height = cropHeight + disY\r\n                        left = cropLeft + disX\r\n                        break;\r\n                    case \"dot-lc\":\r\n                        width = cropWidth - disX\r\n                        left = cropLeft + disX\r\n                        break;\r\n                    case 'mask':\r\n                        // 拖拽裁剪框\r\n                        left = cropLeft + disX\r\n                        top = cropTop + disY\r\n                        break;\r\n                }\r\n                if (left < 0) left = 0\r\n                if (top < 0) top = 0\r\n                if (left > stage.value.clientWidth) left = stage.value.clientWidth\r\n                if (top > stage.value.clientHeight) top = stage.value.clientHeight\r\n                if (left > stage.value.clientWidth - width) {\r\n                    left = stage.value.clientWidth - width\r\n                }\r\n                if (top > stage.value.clientHeight - height) {\r\n                    top = stage.value.clientHeight - height\r\n                }\r\n                if (width > stage.value.clientWidth) {\r\n                    width = stage.value.clientWidth\r\n                    left = 0\r\n                }\r\n                if (height > stage.value.clientHeight) {\r\n                    height = stage.value.clientHeight\r\n                    top = 0\r\n                }\r\n                if (width < 0) width = 0\r\n                if (height < 0) height = 0\r\n\r\n                // 修改裁剪框\r\n                state.cropBox.left = left\r\n                state.cropBox.top = top\r\n                state.cropBox.width = width\r\n                state.cropBox.height = height\r\n            }\r\n            setOutputSize()\r\n        };\r\n\r\n        /**\r\n         * 触摸结束\r\n         */\r\n        const onTouchEnd = (e) => {\r\n            // 手指全部离开才把缩放设为flash(避免缩放和单指操作冲突)\r\n            if (e.touches.length === 0) {\r\n                touchZoom = false\r\n            }\r\n        };\r\n\r\n        /**\r\n         * canvas裁剪\r\n         */\r\n        const onCrop = () => {\r\n            // 获得裁剪框相对原图1比1的情况下的信息\r\n            let { x, y} = cropBoxOriginalInfo()\r\n            // 宽高用计算好的输出尺寸,否则ios又不对，真难伺候md\r\n            const {width:w,height:h} = state.outputSize\r\n            // 图片的当前信息\r\n            const { rotate, width: imgW, height: imgH } = state.originalImage\r\n\r\n            // ios不能是负数\r\n            x = x < 0 ? 0 : x\r\n            y = y < 0 ? 0 : y\r\n\r\n            ctx.save()\r\n            ctx.clearRect(0, 0, state.canvas.width, state.canvas.height)\r\n            switch (rotate) {\r\n                case 0:\r\n                    ctx.drawImage(imageRef.value, x, y, w, h, x, y, w, h)\r\n                    break;\r\n                // 顺时针旋转90度\r\n                case 90:\r\n                    ctx.translate(imgH, 0)\r\n                    ctx.rotate(rotate / 180 * Math.PI)\r\n                    ctx.drawImage(imageRef.value, y, (-(x - imgH) - w), h, w, y, (-(x - imgH) - w), h, w)\r\n                    break;\r\n                // 顺时针旋转180度\r\n                case 180:\r\n                    ctx.translate(imgW, imgH)\r\n                    ctx.rotate(rotate / 180 * Math.PI)\r\n                    ctx.drawImage(imageRef.value, (-x + imgW) - w, (-y + imgH) - h, w, h, (-x + imgW) - w, (-y + imgH) - h, w, h)\r\n                    break;\r\n                // 顺时针旋转270度\r\n                case 270:\r\n                    ctx.translate(0, imgW)\r\n                    ctx.rotate(rotate / 180 * Math.PI)\r\n                    ctx.drawImage(imageRef.value, (-(y - imgW) - h), x, h, w, (-(y - imgW) - h), x, h, w)\r\n                    break;\r\n            }\r\n            toTempFilePath(x, y, w, h)\r\n        };\r\n\r\n        /**\r\n         * base64转换成Blob对象\r\n         */\r\n        const dataURLToBlob = (dataURL) => {\r\n            // base64拆分开\r\n            let arr = dataURL.split(',');\r\n            // 获取到格式\r\n            let format = arr[0].match(/:(.*?);/)[1];\r\n            // 获取到base64解码数据\r\n            let data = window.atob(arr[1]);\r\n            // 因为颜色数据刚好都是符合8位二进制的无符号整数,所以这里采用Uint8Array,8位无符号正整数数组来处理\r\n            let n = data.length;\r\n            let u8arr = new Uint8Array(n);\r\n            while(n--){\r\n                // 获得图像数据字符对应的Unicode编码，0-255之间\r\n                u8arr[n] = data.charCodeAt(n);\r\n            }\r\n            return new Blob([u8arr], {type:format});\r\n        };\r\n\r\n        /**\r\n         * canvas转换成base64\r\n         */\r\n        const canvasToDataURL = (imageData, width, height) => {\r\n            // 数据绘制到新的画板上\r\n            let canvas = document.createElement('canvas')\r\n            let ctx = canvas.getContext('2d')\r\n            canvas.width = width\r\n            canvas.height = height\r\n            ctx.putImageData(imageData,0,0)\r\n            let target = canvas\r\n\r\n            // 缩放模式\r\n            if(props.mode === 'scale'){\r\n                // 新建一个缩放画板进行绘制\r\n                let zoomCanvas = document.createElement('canvas')\r\n                let zoomCtx = zoomCanvas.getContext('2d')\r\n                zoomCanvas.width = (width * state.originalImage.scale)\r\n                zoomCanvas.height = (height * state.originalImage.scale)\r\n                zoomCtx.scale(zoomCanvas.width / width,zoomCanvas.height / height)\r\n                zoomCtx.drawImage(canvas,0,0)\r\n                target = zoomCanvas\r\n            }\r\n            return target.toDataURL(props.imageType, props.quality)\r\n        };\r\n\r\n        /**\r\n         * 从canvas里面取出裁剪好的内容\r\n         */\r\n        const toTempFilePath = (x, y, w, h) => {\r\n            ctx.restore()\r\n            let data = canvasToDataURL(ctx.getImageData(x, y, w, h), w, h)\r\n            if(props.fileType === 'blob'){\r\n                data = dataURLToBlob(data)\r\n            }\r\n            emit('save',data)\r\n        };\r\n\r\n        /**\r\n         * 取消裁剪\r\n         */\r\n        const onCancel = () => {\r\n            initialState()\r\n            emit('cancel')\r\n        };\r\n\r\n        return {\r\n            stage,\r\n            canvasRef,\r\n            imageRef,\r\n            onLoadComplete,\r\n            ...toRefs(state),\r\n            onTouchStart,\r\n            onTouchMove,\r\n            onTouchEnd,\r\n            onRotate,\r\n            onReset,\r\n            onCrop,\r\n            onCancel,\r\n            outputSizeInfo\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    .cropper {\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: #000;\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        display: flex;\r\n        flex-direction: column;\r\n        box-sizing: border-box;\r\n        padding-bottom: constant(safe-area-inset-bottom);\r\n        padding-bottom: env(safe-area-inset-bottom);\r\n    }\r\n\r\n    .cropper__stage {\r\n        flex: 1;\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .cropper__img {\r\n        opacity: .4;\r\n    }\r\n\r\n    .cropper__box {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n    }\r\n\r\n    .face {\r\n        width: 100%;\r\n        height: 100%;\r\n        position: absolute;\r\n        overflow: hidden;\r\n        top: 0;\r\n        left: 0;\r\n    }\r\n\r\n    .size-num{\r\n        padding: 5px 10px;\r\n        font-size: 10px;\r\n        color: #fff;\r\n        background-color: rgba(0, 0, 0, .8);\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n    }\r\n\r\n    .mask {\r\n        cursor: move;\r\n        width: 100%;\r\n        height: 100%;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        background-color: #fff;\r\n        opacity: .06;\r\n    }\r\n\r\n    .line-top,\r\n    .line-bottom,\r\n    .line-left,\r\n    .line-right {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        background: url(\"data:image/gif;base64,R0lGODlhCAAIAIABACCL9v///yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxM0JGODRDRDlEODgxMUVBODc4ODk4QTE0Q0E2NkM3QiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxM0JGODRDRTlEODgxMUVBODc4ODk4QTE0Q0E2NkM3QiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjEzQkY4NENCOUQ4ODExRUE4Nzg4OThBMTRDQTY2QzdCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjEzQkY4NENDOUQ4ODExRUE4Nzg4OThBMTRDQTY2QzdCIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkECQoAAQAsAAAAAAgACAAAAg2EERmna81UTAfRWeUsACH5BAkKAAEALAAAAAAIAAgAAAIPDA6hmGrnXlvQocjspbUAACH5BAkKAAEALAAAAAAIAAgAAAIPTIBgl5vq0GLQtFhpfaEAACH5BAkKAAEALAAAAAAIAAgAAAIPjIFgkXq52mJowlixe6gAACH5BAkKAAEALAAAAAAIAAgAAAINjAMJp2vNVEwH0VnlLAAh+QQJCgABACwAAAAACAAIAAACD0QeoJhq515b0KHI7KW1AAAh+QQJCgABACwAAAAACAAIAAACDwSCYZeb6tBi0LRYaX2gAAAh+QQFCgABACwAAAAACAAIAAACD4SDYZB6udpiaMJYsXuoAAA7\");\r\n    }\r\n\r\n    .line-top,\r\n    .line-bottom {\r\n        width: 100%;\r\n        height: 1px;\r\n    }\r\n\r\n    .line-bottom {\r\n        top: auto;\r\n        bottom: 0;\r\n    }\r\n\r\n    .line-left,\r\n    .line-right {\r\n        width: 1px;\r\n        height: 100%;\r\n    }\r\n\r\n    .line-right {\r\n        left: auto;\r\n        right: 0;\r\n    }\r\n\r\n    .dot-tl,\r\n    .dot-tc,\r\n    .dot-tr,\r\n    .dot-rc,\r\n    .dot-rb,\r\n    .dot-bc,\r\n    .dot-bl,\r\n    .dot-lc {\r\n        width: 23px;\r\n        height: 23px;\r\n        background-color: #39f;\r\n        position: absolute;\r\n        border-radius: 12.5px;\r\n        opacity: .5;\r\n    }\r\n\r\n    .dot-tl {\r\n        cursor: nw-resize;\r\n        top: -11px;\r\n        left: -11px;\r\n    }\r\n\r\n    .dot-tc {\r\n        cursor: n-resize;\r\n        left: 50%;\r\n        top: -11px;\r\n        margin-left: -11.5px;\r\n    }\r\n\r\n    .dot-tr {\r\n        cursor: ne-resize;\r\n        top: -11px;\r\n        right: -11px;\r\n    }\r\n\r\n    .dot-rc {\r\n        cursor: e-resize;\r\n        top: 50%;\r\n        margin-top: -11.5px;\r\n        right: -11px;\r\n    }\r\n\r\n    .dot-rb {\r\n        cursor: se-resize;\r\n        bottom: -11px;\r\n        right: -11px;\r\n    }\r\n\r\n    .dot-bc {\r\n        cursor: s-resize;\r\n        bottom: -11px;\r\n        left: 50%;\r\n        margin-left: -11.5px;\r\n    }\r\n\r\n    .dot-bl {\r\n        cursor: sw-resize;\r\n        bottom: -11px;\r\n        left: -11px;\r\n    }\r\n\r\n    .dot-lc {\r\n        cursor: w-resize;\r\n        top: 50%;\r\n        margin-top: -11.5px;\r\n        left: -11px;\r\n    }\r\n\r\n    .cropper__control {\r\n        display: flex;\r\n        height: 50px;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        color: #fff;\r\n        font-size: 14px;\r\n        padding: 0 15px;\r\n    }\r\n\r\n    .cropper__icon-rotate {\r\n        transform: rotateY(180deg);\r\n        width: 25px;\r\n        height: 27px;\r\n        display: inline-block;\r\n        background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAA3CAYAAAChMHI8AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNUI2ODJENkY5Q0QxMUU4OTdGMEM3QzFFQjk3N0E5RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNUI2ODJEN0Y5Q0QxMUU4OTdGMEM3QzFFQjk3N0E5RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjI1QjY4MkQ0RjlDRDExRTg5N0YwQzdDMUVCOTc3QTlEIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjI1QjY4MkQ1RjlDRDExRTg5N0YwQzdDMUVCOTc3QTlEIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+K3CBrQAAAZ1JREFUeNrsmDFLAzEYhu8Oa0UQi+JYUNBZ0bkoiCDu0l1w9DeIf8Ch4h/oJgji4CJWXQSh4uLoIthBXF262PgG7iAcPc8z1yR3vB88w0HyXZ4m96WJL4TwLMcEOAH7uol8yzLz4BysybHoJgssimyDp1Akl7AhI995CK7AbJ6JxwyLyMG3wc4okpuUWQ2/j4VRTrmJ2AMPKSLiF67Biisy06Cq0X8LdMERqCT/HCjNhmiCvtCPGzAz7B2m95kNcAFqmnlewSZ4t1ma70ED9IZt4Aksg1PQV9ougVswZ2uZqdTBS2z5pPVZBN1Yn0cwHrWxJSOpgbsMMpIqaMeEWi7IRIM7yyDjhTPRUWQGoOGCjEQWoeOMfWQ1+1SEnmUe34EjwH/jALSU590iy0yBDzAZVcrAK258gUvleT1I+U9ki79GR92nijwzXni4c+KkmUe8xe8AXKwAWe4DBlH7os+MjO+0k6ZvcDC6K6NSlm/GK1MBoAxlKEMZylCGMpShDGUoQxnKUIYylKEMZSiTEknXs4IzQxnKlF/mR4ABAKT7gnzK58lJAAAAAElFTkSuQmCC) no-repeat;\r\n        background-size: contain;\r\n    }\r\n\r\n    .cropper__line {\r\n        border-top: solid 1px #2a2a2a;\r\n        height: 0;\r\n    }\r\n\r\n</style>\r\n","import { render } from \"./Cropper.vue?vue&type=template&id=41cbaf4a&scoped=true\"\nimport script from \"./Cropper.vue?vue&type=script&lang=js\"\nexport * from \"./Cropper.vue?vue&type=script&lang=js\"\n\nimport \"./Cropper.vue?vue&type=style&index=0&id=41cbaf4a&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-41cbaf4a\"\n\nexport default script","import Cropper from \"./Cropper\";\r\n\r\nCropper.install = app => app.component(Cropper.name,Cropper)\r\n\r\nexport default Cropper\r\n","import { createApp } from 'vue'\nimport App from './App.vue'\nimport Cropper from \"./components\";\n\nconst app = createApp(App)\napp.use(Cropper)\n\napp.mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Cropper.vue?vue&type=style&index=0&id=41cbaf4a&scoped=true&lang=scss\""],"sourceRoot":""}